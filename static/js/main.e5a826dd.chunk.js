(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c,s=n(1),r=n.n(s),o=n(8),a=n.n(o),i=(n(14),n(15),n(9)),u=n(4),l=n(5),d=n(2),j=(n(16),n(0)),f=n(18).Howl,b=new f({src:["./sounds/sound-off.m4a"]}),m=new f({src:["./sounds/sound-on.m4a"]}),h=new f({src:["./sounds/eat.m4a"]}),O=new f({src:["./sounds/keypress-up.mp3"]}),v=new f({src:["./sounds/keypress-down.mp3"]}),g=new f({src:["./sounds/game-start.mp3"]}),p=new f({src:["./sounds/game-soundtrack.m4a"],loop:!0}),x=new f({src:["./sounds/lose.m4a"]}),w=function(e){var t=e.size,n=0,r=0;function o(e){if(!ce&&R){var t=function(e){return e.touches}(e)[0];n=t.clientX,r=t.clientY}}function a(e){if(!ce&&R&&n&&r){var t=e.touches[0].clientX,s=e.touches[0].clientY,o=n-t,a=r-s;if(Math.abs(o)>Math.abs(a))if(o>0){if(je.left||je.right||G)return;fe((function(e){return he(e,"left")})),me(c),Oe("left",c),c=setInterval((function(){Oe("left",c)}),1e3/J)}else{if(je.right||je.left||G)return;fe((function(e){return he(e,"right")})),me(c),Oe("right",c),c=setInterval((function(){Oe("right",c)}),1e3/J)}else if(a>0){if(je.up||je.down||G)return;fe((function(e){return he(e,"up")})),me(c),Oe("up",c),c=setInterval((function(){Oe("up",c)}),1e3/J)}else{if(je.down||je.up||G)return;fe((function(e){return he(e,"down")})),me(c),Oe("down",c),c=setInterval((function(){Oe("down",c)}),1e3/J)}n=0,r=0}}var f=function(){!U&&v.play()},w=function(){!U&&O.play()},y=Object(s.useState)([[1,2]]),N=Object(d.a)(y,2),k=N[0],M=N[1],S=Object(s.useState)(localStorage.locale||0),I=Object(d.a)(S,2),C=I[0],E=I[1],P=Object(s.useState)({easy:!0,medium:!1,hard:!1}),L=Object(d.a)(P,2),B=L[0],D=L[1],A=Object(s.useState)(!1),F=Object(d.a)(A,2),U=F[0],_=F[1],H=Object(s.useState)(3),z=Object(d.a)(H,2),J=z[0],T=z[1],X=Object(s.useState)(!1),Y=Object(d.a)(X,2),G=Y[0],q=Y[1],K=Object(s.useState)(!1),Q=Object(d.a)(K,2),R=Q[0],V=Q[1],W=Object(s.useState)(!1),Z=Object(d.a)(W,2),$=Z[0],ee=Z[1],te=Object(s.useState)(!1),ne=Object(d.a)(te,2),ce=ne[0],se=ne[1],re=Object(s.useState)([Math.trunc(Math.random()*t),Math.trunc(Math.random()*t)]),oe=Object(d.a)(re,2),ae=oe[0],ie=oe[1],ue=function(e,t){D((function(e){return Object.keys(e).map((function(t){return e[t]=!1})),Object(l.a)(Object(l.a)({},e),{},Object(u.a)({},t,!0))})),console.log(B),T(e)},le=Object(s.useState)({left:!1,right:!1,up:!1,down:!1}),de=Object(d.a)(le,2),je=de[0],fe=de[1],be=function(){!U&&p.play(),fe({left:!1,right:!1,up:!1,down:!0}),M([[1,2]]),se(!1),c=setInterval((function(){Oe("down",c)}),1e3/J)};Object(s.useEffect)((function(){k.map((function(e){return e.join()===ae.join()&&ie([Math.trunc(Math.random()*t),Math.trunc(Math.random()*t)]),null})),k[0].join("")===ae.join("")&&(!U&&h.play(),M((function(e){return[].concat(Object(i.a)(e),[[e[e.length-1][0],e[e.length-1][1]]])})))}),[k,ae,t]);var me=function(e){e&&clearInterval(e)};Object(s.useEffect)((function(){if(ce)return localStorage.setItem("locale",String(C)),k.length-1>=Number(C)&&E(k.length-1),!U&&x.play(),p.pause(),void clearInterval(c)}),[ce,U,k.length,C]);var he=function(e,t){return Object.keys(e).map((function(t){return e[t]=!1})),Object(l.a)(Object(l.a)({},e),{},Object(u.a)({},t,!0))},Oe=function(e,n){M((function(c){return("up"===e&&c[0][0]<=0||"down"===e&&c[0][0]>=t-1||"left"===e&&c[0][1]<=0||"right"===e&&c[0][1]>=t-1)&&(clearInterval(n),se(!0)),c.map((function(t,n){return 0!==n?c[n-1]:"up"===e?[t[0]-1,t[1]]:"down"===e?[t[0]+1,t[1]]:"left"===e?[t[0],t[1]-1]:"right"===e?[t[0],t[1]+1]:null}))}))};Object(s.useEffect)((function(){k.map((function(e,t){return t<2||e.join("")===k[0].join("")&&se(!0),null}))}),[k]);var ve=function(e){if(!ce&&R)if(38===e.keyCode){if(je.up||je.down||G)return;fe((function(e){return he(e,"up")})),me(c),Oe("up",c),c=setInterval((function(){Oe("up",c)}),1e3/J)}else if(40===e.keyCode){if(je.down||je.up||G)return;fe((function(e){return he(e,"down")})),me(c),Oe("down",c),c=setInterval((function(){Oe("down",c)}),1e3/J)}else if(37===e.keyCode){if(je.left||je.right||G)return;fe((function(e){return he(e,"left")})),me(c),Oe("left",c),c=setInterval((function(){Oe("left",c)}),1e3/J)}else if(39===e.keyCode){if(je.right||je.left||G)return;fe((function(e){return he(e,"right")})),me(c),Oe("right",c),c=setInterval((function(){Oe("right",c)}),1e3/J)}else if(32===e.keyCode&&(q((function(e){return!e})),p.pause(),clearInterval(c),G)){ee(!1),!U&&p.play();var t=Object.keys(je).filter((function(e){return!0===je[e]?e:null}));Oe(String(t),c),c=setInterval((function(){Oe(String(t),c)}),1e3/J)}};return Object(s.useEffect)((function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(document.addEventListener("touchstart",o,!1),document.addEventListener("touchmove",a,!1)):(document.addEventListener("keydown",ve),document.addEventListener("touchstart",ve)),function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(document.removeEventListener("touchstart",o,!1),document.removeEventListener("touchmove",a,!1)):(document.removeEventListener("keydown",ve),document.removeEventListener("touchstart",ve))}})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{className:"score-corner",children:["Score: ",k.length-1,Object(j.jsx)("br",{}),"Highscore: ",C]}),Object(j.jsx)("div",{className:"pause-icon"}),Object(j.jsxs)("div",{className:"board-container",children:[!R&&!$&&Object(j.jsxs)("div",{className:"start-game",children:[Object(j.jsx)("h1",{children:"Snake"}),Object(j.jsxs)("div",{className:"difficulty",children:[Object(j.jsx)("button",{className:B.easy?"active":"",onMouseDown:f,onMouseUp:w,onClick:function(){return ue(3,"easy")},children:"Easy"}),Object(j.jsx)("button",{className:B.medium?"active":"",onMouseDown:f,onMouseUp:w,onClick:function(){return ue(5,"medium")},children:"Medium"}),Object(j.jsx)("button",{className:B.hard?"active":"",onMouseDown:f,onMouseUp:w,onClick:function(){return ue(9,"hard")},children:"Hard"})]}),Object(j.jsx)("div",{className:"settings-icon",onClick:function(){!U&&m.play(),ee(!0)},children:Object(j.jsx)("img",{src:"./icons/settings-icon.svg",alt:"settings"})}),Object(j.jsx)("button",{onMouseDown:f,onMouseUp:w,className:"start-game-btn",onClick:function(){console.log("Hello!"),!U&&g.play(),V(!0),be()},children:"Start game"})]}),$&&Object(j.jsxs)("div",{className:"start-game-controls",children:[Object(j.jsx)("button",{className:"sound-control",onClick:function(){U?m.play():b.play(),_((function(e){return!e}))},children:Object(j.jsx)("img",{src:U?"./icons/sound-off.svg":"./icons/sound-on.svg",alt:"sound"})}),Object(j.jsx)("div",{onClick:function(){!U&&m.play(),ee(!1)},className:"go-back",children:"\u2190"}),Object(j.jsx)("p",{children:"Move:"}),Object(j.jsx)("div",{className:"start-game-controls-container",children:Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2191"})}),Object(j.jsxs)("div",{className:"start-game-controls-container",children:[Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2190"}),Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2193"}),Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2192"})]}),Object(j.jsx)("p",{children:"Pause:"}),Object(j.jsx)("div",{className:"start-game-controls-container",children:Object(j.jsx)("div",{className:"start-game-controls-container_btn",style:{padding:"0rem 2rem"},children:"\u23b5"})})]}),G&&!$&&Object(j.jsxs)("div",{className:"pause",children:[Object(j.jsx)("div",{onClick:function(){!U&&m.play(),ee(!0)},className:"settings-icon",children:Object(j.jsx)("img",{src:"./icons/settings-icon.svg",alt:"settings"})}),Object(j.jsx)("h1",{children:"Paused"}),Object(j.jsxs)("h1",{className:"score",children:["Score: ",k.length-1]})]}),ce&&Object(j.jsxs)("div",{className:"game-over",children:[Object(j.jsx)("h1",{className:"game-over-text",children:"Game over!"}),Object(j.jsx)("button",{className:"game-over-btn",onMouseDown:f,onMouseUp:w,onClick:be,children:"Play again"})]}),Object(j.jsx)("div",{className:"board",children:function(){for(var e=[],n=0;n<t;n++)for(var c=0;c<t;c++)e.push([n,c]);return e.map((function(e,t){return Object(j.jsx)("div",{className:"brick".concat(k.map((function(t){return t.join("")===e.join("")?" current":e.join("")===ae.join("")?" dot":""})).join(""))},t)}))}()}),Object(j.jsx)("div",{className:"depth"})]})]})},y=(n(20),function(){return Object(j.jsx)("div",{children:Object(j.jsx)(w,{size:10})})});var N=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(y,{})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),k()}},[[21,1,2]]]);
//# sourceMappingURL=main.e5a826dd.chunk.js.map
(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c,s=n(1),r=n.n(s),o=n(8),a=n.n(o),i=(n(14),n(15),n(9)),u=n(4),l=n(5),d=n(2),j=(n(16),n(0)),f=n(18).Howl,b=new f({src:["./sounds/sound-off.m4a"]}),m=new f({src:["./sounds/sound-on.m4a"]}),h=new f({src:["./sounds/eat.m4a"]}),O=new f({src:["./sounds/keypress-up.mp3"]}),v=new f({src:["./sounds/keypress-down.mp3"]}),g=new f({src:["./sounds/game-start.mp3"]}),p=new f({src:["./sounds/game-soundtrack.m4a"],loop:!0}),x=new f({src:["./sounds/lose.m4a"]}),w=function(e){var t=e.size,n=0,r=0;function o(e){if(!se&&V){var t=function(e){return e.touches}(e)[0];n=t.clientX,r=t.clientY}}var a=function(){if(K((function(e){return!e})),p.pause(),clearInterval(c),q){te(!1),!_&&p.play();var e=Object.keys(fe).filter((function(e){return!0===fe[e]?e:null}));ve(String(e),c),c=setInterval((function(){ve(String(e),c)}),1e3/T)}};function f(e){if(!se&&V&&n&&r){var t=e.touches[0].clientX,s=e.touches[0].clientY,o=n-t,a=r-s;if(Math.abs(o)>Math.abs(a))if(o>0){if(fe.left||fe.right||q)return;be((function(e){return Oe(e,"left")})),he(c),ve("left",c),c=setInterval((function(){ve("left",c)}),1e3/T)}else{if(fe.right||fe.left||q)return;be((function(e){return Oe(e,"right")})),he(c),ve("right",c),c=setInterval((function(){ve("right",c)}),1e3/T)}else if(a>0){if(fe.up||fe.down||q)return;be((function(e){return Oe(e,"up")})),he(c),ve("up",c),c=setInterval((function(){ve("up",c)}),1e3/T)}else{if(fe.down||fe.up||q)return;be((function(e){return Oe(e,"down")})),he(c),ve("down",c),c=setInterval((function(){ve("down",c)}),1e3/T)}n=0,r=0}}var w=function(){!_&&v.play()},y=function(){!_&&O.play()},k=Object(s.useState)([[1,2]]),N=Object(d.a)(k,2),M=N[0],S=N[1],I=Object(s.useState)(localStorage.locale||0),C=Object(d.a)(I,2),E=C[0],P=C[1],L=Object(s.useState)({easy:!0,medium:!1,hard:!1}),B=Object(d.a)(L,2),D=B[0],A=B[1],F=Object(s.useState)(!1),U=Object(d.a)(F,2),_=U[0],H=U[1],z=Object(s.useState)(3),J=Object(d.a)(z,2),T=J[0],X=J[1],Y=Object(s.useState)(!1),G=Object(d.a)(Y,2),q=G[0],K=G[1],Q=Object(s.useState)(!1),R=Object(d.a)(Q,2),V=R[0],W=R[1],Z=Object(s.useState)(!1),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(s.useState)(!1),ce=Object(d.a)(ne,2),se=ce[0],re=ce[1],oe=Object(s.useState)([Math.trunc(Math.random()*t),Math.trunc(Math.random()*t)]),ae=Object(d.a)(oe,2),ie=ae[0],ue=ae[1],le=function(e,t){A((function(e){return Object.keys(e).map((function(t){return e[t]=!1})),Object(l.a)(Object(l.a)({},e),{},Object(u.a)({},t,!0))})),console.log(D),X(e)},de=Object(s.useState)({left:!1,right:!1,up:!1,down:!1}),je=Object(d.a)(de,2),fe=je[0],be=je[1],me=function(){!_&&p.play(),be({left:!1,right:!1,up:!1,down:!0}),S([[1,2]]),re(!1),c=setInterval((function(){ve("down",c)}),1e3/T)};Object(s.useEffect)((function(){M.map((function(e){return e.join()===ie.join()&&ue([Math.trunc(Math.random()*t),Math.trunc(Math.random()*t)]),null})),M[0].join("")===ie.join("")&&(!_&&h.play(),S((function(e){return[].concat(Object(i.a)(e),[[e[e.length-1][0],e[e.length-1][1]]])})))}),[M,ie,t]);var he=function(e){e&&clearInterval(e)};Object(s.useEffect)((function(){if(se)return localStorage.setItem("locale",String(E)),M.length-1>=Number(E)&&P(M.length-1),!_&&x.play(),p.pause(),void clearInterval(c)}),[se,_,M.length,E]);var Oe=function(e,t){return Object.keys(e).map((function(t){return e[t]=!1})),Object(l.a)(Object(l.a)({},e),{},Object(u.a)({},t,!0))},ve=function(e,n){S((function(c){return("up"===e&&c[0][0]<=0||"down"===e&&c[0][0]>=t-1||"left"===e&&c[0][1]<=0||"right"===e&&c[0][1]>=t-1)&&(clearInterval(n),re(!0)),c.map((function(t,n){return 0!==n?c[n-1]:"up"===e?[t[0]-1,t[1]]:"down"===e?[t[0]+1,t[1]]:"left"===e?[t[0],t[1]-1]:"right"===e?[t[0],t[1]+1]:null}))}))};Object(s.useEffect)((function(){M.map((function(e,t){return t<2||e.join("")===M[0].join("")&&re(!0),null}))}),[M]);var ge=function(e){if(!se&&V)if(38===e.keyCode){if(fe.up||fe.down||q)return;be((function(e){return Oe(e,"up")})),he(c),ve("up",c),c=setInterval((function(){ve("up",c)}),1e3/T)}else if(40===e.keyCode){if(fe.down||fe.up||q)return;be((function(e){return Oe(e,"down")})),he(c),ve("down",c),c=setInterval((function(){ve("down",c)}),1e3/T)}else if(37===e.keyCode){if(fe.left||fe.right||q)return;be((function(e){return Oe(e,"left")})),he(c),ve("left",c),c=setInterval((function(){ve("left",c)}),1e3/T)}else if(39===e.keyCode){if(fe.right||fe.left||q)return;be((function(e){return Oe(e,"right")})),he(c),ve("right",c),c=setInterval((function(){ve("right",c)}),1e3/T)}else 32===e.keyCode&&a()};return Object(s.useEffect)((function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(document.addEventListener("touchstart",o,!1),document.addEventListener("touchmove",f,!1)):(document.addEventListener("keydown",ge),document.addEventListener("touchstart",ge)),function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(document.removeEventListener("touchstart",o,!1),document.removeEventListener("touchmove",f,!1)):(document.removeEventListener("keydown",ge),document.removeEventListener("touchstart",ge))}})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{className:"score-corner",children:["Score: ",M.length-1,Object(j.jsx)("br",{}),"Highscore: ",E]}),!se&&Object(j.jsx)("div",{onClick:function(){return V&&a()},className:"pause-icon",children:q?">":"||"}),Object(j.jsxs)("div",{className:"board-container",children:[!V&&!ee&&Object(j.jsxs)("div",{className:"start-game",children:[Object(j.jsx)("h1",{children:"Snake"}),Object(j.jsxs)("div",{className:"difficulty",children:[Object(j.jsx)("button",{className:D.easy?"active":"",onMouseDown:w,onMouseUp:y,onClick:function(){return le(3,"easy")},children:"Easy"}),Object(j.jsx)("button",{className:D.medium?"active":"",onMouseDown:w,onMouseUp:y,onClick:function(){return le(5,"medium")},children:"Medium"}),Object(j.jsx)("button",{className:D.hard?"active":"",onMouseDown:w,onMouseUp:y,onClick:function(){return le(9,"hard")},children:"Hard"})]}),Object(j.jsx)("div",{className:"settings-icon",onClick:function(){!_&&m.play(),te(!0)},children:Object(j.jsx)("img",{src:"./icons/settings-icon.svg",alt:"settings"})}),Object(j.jsx)("button",{onMouseDown:w,onMouseUp:y,className:"start-game-btn",onClick:function(){console.log("Hello!"),!_&&g.play(),W(!0),me()},children:"Start game"})]}),ee&&Object(j.jsxs)("div",{className:"start-game-controls",children:[Object(j.jsx)("button",{className:"sound-control",onClick:function(){_?m.play():b.play(),H((function(e){return!e}))},children:Object(j.jsx)("img",{src:_?"./icons/sound-off.svg":"./icons/sound-on.svg",alt:"sound"})}),Object(j.jsx)("div",{onClick:function(){!_&&m.play(),te(!1)},className:"go-back",children:"\u2190"}),Object(j.jsx)("p",{children:"Move:"}),Object(j.jsx)("div",{className:"start-game-controls-container",children:Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2191"})}),Object(j.jsxs)("div",{className:"start-game-controls-container",children:[Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2190"}),Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2193"}),Object(j.jsx)("div",{className:"start-game-controls-container_btn",children:"\u2192"})]}),Object(j.jsx)("p",{children:"Pause:"}),Object(j.jsx)("div",{className:"start-game-controls-container",children:Object(j.jsx)("div",{className:"start-game-controls-container_btn",style:{padding:"0rem 2rem"},children:"\u23b5"})})]}),q&&!ee&&Object(j.jsxs)("div",{className:"pause",children:[Object(j.jsx)("div",{onClick:function(){!_&&m.play(),te(!0)},className:"settings-icon",children:Object(j.jsx)("img",{src:"./icons/settings-icon.svg",alt:"settings"})}),Object(j.jsx)("h1",{children:"Paused"}),Object(j.jsxs)("h1",{className:"score",children:["Score: ",M.length-1]})]}),se&&Object(j.jsxs)("div",{className:"game-over",children:[Object(j.jsx)("h1",{className:"game-over-text",children:"Game over!"}),Object(j.jsx)("button",{className:"game-over-btn",onMouseDown:w,onMouseUp:y,onClick:me,children:"Play again"})]}),Object(j.jsx)("div",{className:"board",children:function(){for(var e=[],n=0;n<t;n++)for(var c=0;c<t;c++)e.push([n,c]);return e.map((function(e,t){return Object(j.jsx)("div",{className:"brick".concat(M.map((function(t){return t.join("")===e.join("")?" current":e.join("")===ie.join("")?" dot":""})).join(""))},t)}))}()}),Object(j.jsx)("div",{className:"depth"})]})]})},y=(n(20),function(){return Object(j.jsx)("div",{children:Object(j.jsx)(w,{size:10})})});var k=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(y,{})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(k,{})}),document.getElementById("root")),N()}},[[21,1,2]]]);
//# sourceMappingURL=main.6ff99e5d.chunk.js.map